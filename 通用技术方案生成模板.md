# 通用技术方案文档生成模板 - 完整提示词框架

## 项目概述
**任务目标：** 将现有的${原始领域}技术方案 (`${原始文档名}.md`) 完全转换为${目标领域}系统技术方案，并生成专业级PDF文档

**核心要求：**
- 内容对齐：从${原始技术栈} → ${目标技术栈}
- 技术升级：从${原始核心技术} → ${目标核心技术}
- 输出格式：专业PDF，包含${公司名称}logo、代码框架、表格完整显示

## 阶段一：内容对齐与重构

### 提示词模板：
```
请基于 @${目标文档名}.md 的项目目标，对 @${原始文档名}.md 进行全面对齐改造：

1. **领域转换**：
   - 从"${原始业务领域}"转为"${目标业务领域}"
   - 检测/处理对象：${目标对象数量}+种${目标对象类型}
   - 法规依据：${相关法规标准}

2. **技术栈升级**：
   - 核心设备/技术：${原始设备技术} → ${目标设备技术}
   - 数据类型：${原始数据类型} → ${目标数据类型}
   - 算法模型：${原始算法描述} → ${目标算法描述}

3. **系统架构调整**：
   - 架构设计：${架构层数}层架构（${架构层级描述}）
   - 数据存储：${数据存储技术栈}
   - 算法模型：${算法分级描述}

4. **业务场景重定义**：
   - ${业务场景1}：${场景1描述}
   - ${业务场景2}：${场景2描述}
   - ${业务场景3}：${场景3描述}

5. **技术指标更新**：
   - ${核心指标1}：${指标1目标值}
   - ${核心指标2}：${指标2目标值}
   - ${核心指标3}：${指标3目标值}
   - ${性能指标1}：${性能1目标值}
   - ${质量指标1}：${质量1目标值}

要求：保持原文档的专业性和完整性，所有技术细节都要重新对应到新领域
```

## 阶段二：专业内容完善

### 提示词模板：
```
对技术方案进行深度完善，确保研究性质与工程落地相结合：

1. **参考文献体系**：
   - 添加${文献数量}+权威参考文献
   - 涵盖：${文献领域1}、${文献领域2}、${文献领域3}、${文献领域4}
   - 文中合理标注引用，格式：[1]、[2]等

2. **技术深度提升**：
   - 算法原理：${算法1}、${算法2}、${算法3}、${算法4}、${算法5}详细说明
   - 质量标准：${质量标准1}、${质量标准2}、${质量标准3}标准
   - 安全合规：${安全标准1}、${数据安全要求}

3. **工程实施细节**：
   - ${项目周期}个月开发周期，${阶段数量}个阶段详细规划
   - 团队配置：${项目经理姓名}（项目经理）、${技术总监姓名}（技术总监）、${团队组数}个专业组
   - 风险管控：${风险类型1}、${风险类型2}、${风险类型3}

4. **决策支持信息**：
   - 市场分析：${市场分析方法}市场规模
   - 竞争优势：${优势1}、${优势2}、${优势3}
   - 投资回报：去除具体金额，保留技术价值分析

要求：确保逻辑严谨，为领导决策提供充分技术支撑
```

## 阶段三：PDF专业化生成

### 提示词模板：
```
将markdown技术方案转换为专业级PDF文档，要求：

1. **品牌元素集成**：
   - 公司logo：放置在首页封面和页眉
   - 公司名称：${公司全称}
   - 文档日期：${文档日期}

2. **LaTeX配置优化**：
   ```latex
   % 核心包引入
   \usepackage{fontspec}
   \usepackage{ctex}
   \usepackage{graphicx}
   \usepackage{xcolor}
   \usepackage{hyperref}
   \usepackage{booktabs}
   \usepackage{longtable}
   \usepackage{tcolorbox}
   
   % 字体设置
   \setmainfont{${主字体名称}}
   \setsansfont{${无衬线字体名称}}
   \setmonofont{${等宽字体名称}}
   
   % 页面布局
   \usepackage{fancyhdr}
   \pagestyle{fancy}
   \fancyhead[L]{\includegraphics[height=0.8cm]{${logo文件名}}}
   \fancyhead[C]{\textcolor{gray}{\small ${文档标题}}}
   \fancyhead[R]{\textcolor{gray}{\small ${公司简称}}}
   ```

3. **代码块样式**：
   - 使用tcolorbox实现边框
   - 自动换行：breaklines=true
   - 背景色：${代码背景色}
   - 边框：${代码边框色}，${边框粗细}粗细

4. **图表处理**：
   - Mermaid图表：使用pandoc-mermaid-filter自动转换
   - 图片缩放：width=\textwidth，keepaspectratio
   - 表格样式：简化处理，确保正确显示

5. **转换命令**：
   ```bash
   pandoc ${源文档名}.md \
     --filter pandoc-mermaid \
     --pdf-engine=xelatex \
     --number-sections \
     --variable=graphics:yes \
     --variable=geometry:margin=2cm \
     -o ${输出文档名}.pdf
   ```

要求：确保所有元素（文字、代码、表格、图片）都完美显示，无溢出、无缺失
```

## 阶段四：问题排查与修复

### 常见问题及解决方案：

#### 字体问题
```
问题：LaTeX字体找不到或缺失字符
解决：
\usepackage{newunicodechar}
\newfontfamily\fallbackfont{${回退字体名称}}
\newunicodechar{${特殊字符1}}{{\fallbackfont ${特殊字符1}}}
\newunicodechar{${特殊字符2}}{{\fallbackfont ${特殊字符2}}}
```

#### 代码溢出问题
```
问题：代码块超出页面边界
解决：使用tcolorbox + breakable + width=\textwidth
\newenvironment{Shaded}{%
  \begin{tcolorbox}[breakable,colback=${代码背景色},width=\textwidth]
}{%
  \end{tcolorbox}
}
```

#### 表格显示问题
```
问题：markdown表格在PDF中不显示
解决：简化表格处理，避免复杂重定义
\setlength{\tabcolsep}{${表格列间距}}
\renewcommand{\arraystretch}{${表格行高比例}}
```

#### Mermaid转换问题
```
问题：mermaid图表转换失败
解决：使用pandoc-mermaid-filter + mmdc
安装：pipx install pandoc-mermaid-filter
```

## 最终交付物模板

1. **`${源文档名}.md`** - 完整对齐的技术方案文档
2. **`${输出PDF名称}.pdf`** - 专业级PDF文档
3. **`${logo文件名}`** - 公司品牌logo
4. **转换脚本** - 自动化PDF生成流程

## 项目成功指标模板

✅ **内容完整性**：${核心业务范围}完整覆盖  
✅ **技术准确性**：${核心技术栈}正确应用  
✅ **文档专业性**：符合企业级技术方案标准  
✅ **格式完美性**：PDF无溢出、无缺失、有边框  
✅ **品牌一致性**：logo和公司信息正确展示  

## 复用价值

此模板建立了完整的"技术方案文档生成"工作流，可复用于：
- ${应用领域1}（${具体应用场景1}等）
- ${应用领域2}（${具体应用场景2}等）
- ${应用领域3}

**核心能力**：内容对齐 + 技术深化 + 专业排版 + 问题修复

---

## 变量配置示例

### 基础信息变量
```yaml
# 项目基础信息
原始领域: "紫外光谱农药残留检测"
目标领域: "非法添加药物检测"
原始文档名: "plan"
目标文档名: "target"

# 公司信息
公司全称: "杭州图灵智能科技有限公司"
公司简称: "图灵智能"
logo文件名: "logo.png"
文档日期: "2025年7月"

# 技术栈信息
原始技术栈: "UV光谱检测"
目标技术栈: "LC-DAD液相色谱"
原始核心技术: "UV-Vis分光光度计"
目标核心技术: "LC-DAD液相色谱仪"
```

### 业务领域变量
```yaml
# 业务转换
原始业务领域: "农药残留检测"
目标业务领域: "非法添加药物检测"
目标对象数量: "250"
目标对象类型: "非法添加物质（兽药、食品、药品、保健品）"
相关法规标准: "农业农村部公告第169号"

# 业务场景
业务场景1: "兽药监管"
场景1描述: "动物源性食品安全检测"
业务场景2: "科研分析"
场景2描述: "高校、科研院所研究支持"
业务场景3: "商业检测"
场景3描述: "第三方检测机构服务"
```

### 技术指标变量
```yaml
# 核心指标
核心指标1: "检测准确率"
指标1目标值: ">95%"
核心指标2: "假阳性率"
指标2目标值: "<3%"
核心指标3: "假阴性率"
指标3目标值: "<2%"

# 性能指标
性能指标1: "系统并发"
性能1目标值: "1000+用户"
质量指标1: "数据完整性"
质量1目标值: "99.9%"
```

### 团队与技术变量
```yaml
# 团队信息
项目周期: "36"
阶段数量: "5"
项目经理姓名: "张明均"
技术总监姓名: "陈锡龙"
团队组数: "4"

# 技术细节
算法1: "PLS"
算法2: "SVM" 
算法3: "Random Forest"
算法4: "1D-CNN"
算法5: "LSTM"

# 文献与标准
文献数量: "15"
文献领域1: "分析化学"
文献领域2: "机器学习"
文献领域3: "云计算"
文献领域4: "食品安全法规"
```

### 样式配置变量
```yaml
# 字体配置
主字体名称: "Source Han Serif SC"
无衬线字体名称: "Source Han Sans SC"
等宽字体名称: "Monaco"
回退字体名称: "Arial Unicode MS"

# 颜色配置
代码背景色: "gray!5"
代码边框色: "gray!50"
边框粗细: "0.5pt"

# 文档命名
源文档名: "plan"
输出文档名: "技术方案_专业版"
输出PDF名称: "技术方案_专业版.pdf"
文档标题: "技术方案文档"
```

## 使用说明

1. **配置变量**：根据具体项目需求，填写上述变量配置
2. **应用模板**：将变量值替换到提示词模板中
3. **执行流程**：按照四个阶段依次执行
4. **质量检查**：对照成功指标进行验收

这个通用模板可以快速适配到任何技术领域的方案文档生成需求！ 